<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>404 - We're Cooked | Lyko Lake</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{
            font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;
            background:linear-gradient(135deg,#0a4d4d 0%,#1a6b6b 50%,#0f3d3d 100%);
            color:#fff;min-height:100vh;display:flex;align-items:center;justify-content:center;
            padding:20px;overflow:hidden;position:relative
        }
        .static{
            position:fixed;top:0;left:0;width:100%;height:100%;
            background-image:
                repeating-linear-gradient(90deg,rgba(255,255,255,.03) 0,transparent 1px,transparent 2px,rgba(255,255,255,.03) 3px),
                repeating-linear-gradient(0deg,rgba(255,255,255,.03) 0,transparent 1px,transparent 2px,rgba(255,255,255,.03) 3px);
            animation:static .2s infinite;z-index:9998;pointer-events:none
        }
        .container{
            text-align:center;max-width:700px;z-index:1;
            opacity:0;animation:glitchIn 2s ease-out forwards
        }
        .error-code{
            font-size:10em;font-weight:bold;
            background:linear-gradient(135deg,#22c5a4 0%,#4dd4b8 100%);
            -webkit-background-clip:text;-webkit-text-fill-color:transparent;
            margin-bottom:20px;line-height:1;position:relative;
            animation:glitchNumber 3s infinite
        }
        .main-text{font-size:2.5em;font-weight:bold;color:#22c5a4;margin-bottom:20px;animation:textGlitch 5s infinite}
        .sub-text{font-size:1.5em;color:rgba(255,255,255,.8);margin-bottom:30px;line-height:1.5;animation:textFlicker 4s infinite}
        .emoji-group{font-size:3em;margin:30px 0}
        .emoji{display:inline-block;margin:0 10px;animation:bounce 1.5s ease-in-out infinite,emojiGlitch 6s infinite}
        .buttons{display:flex;gap:20px;justify-content:center;flex-wrap:wrap;margin-top:40px}
        .button{
            background:rgba(34,197,164,.2);border:2px solid #22c5a4;color:#fff;
            padding:15px 40px;font-size:1.1em;border-radius:10px;text-decoration:none;
            font-weight:600;transition:all .3s ease
        }
        .button:hover{background:#22c5a4;color:#0a4d4d;transform:translateY(-3px);box-shadow:0 8px 20px rgba(34,197,164,.4)}
        @keyframes glitchIn{0%{opacity:0;transform:translate(-20px,20px) scale(.95);filter:blur(10px)}50%{opacity:1;transform:translate(0) scale(1);filter:blur(0)}100%{opacity:1;transform:translate(0) scale(1);filter:blur(0)}}
        @keyframes glitchNumber{0%,90%,100%{transform:translate(0)}91%{transform:translate(-3px,3px)}92%{transform:translate(3px,-3px)}93%{transform:translate(-3px,-3px)}94%{transform:translate(3px,3px)}95%{transform:translate(0)}}
        @keyframes textGlitch{0%,94%,100%{transform:translate(0);text-shadow:none}95%{transform:translate(-2px,2px);text-shadow:2px 0 #ff00ff,-2px 0 #0ff}96%{transform:translate(2px,-2px);text-shadow:-2px 0 #ff00ff,2px 0 #0ff}97%{transform:translate(-1px,-1px);text-shadow:1px 0 #ff00ff,-1px 0 #0ff}}
        @keyframes textFlicker{0%,96%,100%{opacity:1}97%{opacity:.7}98%{opacity:.3}99%{opacity:.9}}
        @keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}
        @media(max-width:768px){.error-code{font-size:6em}.main-text{font-size:2em}.sub-text{font-size:1.2em}.buttons{flex-direction:column}}
    </style>
</head>
<body>
<div class="static"></div>
<div class="container">
    <div class="error-code">404</div>
    <h1 class="main-text">Yo, We're Cooked üíÄ</h1>
    <p class="sub-text">The homies are fw it rn tho<br>we straight chillin ‚ú®</p>
    <div class="emoji-group"><span class="emoji">üåä</span><span class="emoji">üòé</span><span class="emoji">üî•</span></div>
    <div class="buttons">
        <a href="/" class="button">Take Me Home üè†</a>
        <a href="/auth.html" class="button">Sign Up / Login ‚ú®</a>
    </div>
</div>

<script type="module">
import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
import { getAuth, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
import { getFirestore, doc, getDoc } from 'https://www.gstatic.com/firebase-firestore.js';

const firebaseConfig = {
    apiKey: "AIzaSyDUBeWvs6kOijqST6FVGirWs2EZ12aAAwU",
    authDomain: "lyko-lake.firebaseapp.com",
    projectId: "lyko-lake",
    storageBucket: "lyko-lake.firebasestorage.app",
    messagingSenderId: "685592614306",
    appId: "1:685592614306:web:b6a8f6f18407f9c0154efb"
};
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

/* ---------- ban check ---------- */
onAuthStateChanged(auth, async user => {
    if (!user) return;
    const ban = await getDoc(doc(db, 'bans', user.uid));
    if (ban.exists()) {
        const { until, reason } = ban.data();
        const now = Date.now();
        if (!until || now < until.toMillis()) {
            const time = until
                ? new Date(until.toMillis()).toLocaleString()
                : 'permanent';
            document.body.innerHTML = `
              <style>body{background:#0a4d4d;color:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;display:flex;align-items:center;justify-content:center;height:100vh;text-align:center}</style>
              <div>
                <h1>üö´ Banned</h1>
                <p>Sorry, you are banned for reason: <strong>${reason || 'No reason given'}</strong></p>
                <p>Ban expires: <strong>${time}</strong></p>
                <a href="/" style="color:#22c5a4">Go Home</a>
              </div>`;
        }
    }
});
</script>
</body>
</html>
